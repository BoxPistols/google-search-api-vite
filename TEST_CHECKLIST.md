# テストチェックリスト

## 1. Firebase未設定時のテスト（現在の状態）

### 期待される動作
- [ ] アプリが正常に起動する
- [ ] コンソールに「⚠️ Firebase not configured」の警告が表示される
- [ ] ログインボタンが「認証未設定」と表示され無効化されている
- [ ] ツールチップで設定方法が表示される
- [ ] ゲストユーザーとして10クエリ/日が表示される
- [ ] 検索フォームが正常に動作する
- [ ] クエリ消費量が正しく計算される

### テスト手順
```bash
pnpm dev
```

ブラウザで http://localhost:5173 を開き、以下を確認：
1. 右上の認証ボタンの状態
2. QuotaDisplayに「10クエリ/日」と表示
3. 検索フォームでキーワード入力時の消費計算
4. ブラウザコンソールのログ

## 2. Firebase設定後のテスト

### .envファイルの作成
```bash
cp .env.example .env
# Firebase設定を記入
```

### 期待される動作
- [ ] コンソールに「✅ Firebase initialized successfully」が表示される
- [ ] 「Googleでログイン」ボタンが有効化される
- [ ] ログインダイアログが表示される
- [ ] ログイン後、アバターとユーザー名が表示される
- [ ] 一般ユーザーで50クエリ/日、オーナーで500クエリ/日が表示される

## 3. クエリ消費量表示のテスト

### シングルキーワード
- [ ] 入力: `React`
- [ ] 表示: キーワード数: 1個 → 消費クエリ: 2
- [ ] ボタン: `検索 (-2)`
- [ ] Chip: `消費予定: 2クエリ`, `残り: 8クエリ`（ゲストの場合）

### 複数キーワード
- [ ] 入力: `React Next.js TypeScript`
- [ ] 表示: キーワード数: 3個 → 消費クエリ: 6
- [ ] ボタン: `検索 (-6)`
- [ ] Chip: `消費予定: 6クエリ`, `残り: 4クエリ`

### クォータ不足
- [ ] 残り4クエリの状態で5キーワード入力
- [ ] ボタンが赤色で「クォータ不足」と表示
- [ ] ボタンが無効化される
- [ ] エラーメッセージ「※ クォータが不足しています」が表示

### 警告表示
- [ ] 残りクエリが消費予定の2倍未満の場合
- [ ] 警告Alertが表示される
- [ ] 「残り○クエリになります」と表示

## 4. 認証フローのテスト（Firebase設定後）

### ログイン
- [ ] 「Googleでログイン」クリック
- [ ] Googleログインダイアログが表示
- [ ] ログイン成功後、アバター表示
- [ ] クォータが50クエリ/日に変更（一般ユーザー）

### オーナーログイン
- [ ] .envのVITE_OWNER_EMAILに設定したアカウントでログイン
- [ ] 「オーナー」と表示される
- [ ] クォータが500クエリ/日に変更
- [ ] メニューに「500クエリ/日」のChipが表示

### ログアウト
- [ ] アバターをクリックしてメニュー表示
- [ ] ログアウトをクリック
- [ ] ゲスト状態（10クエリ/日）に戻る

## 5. ダークモードのテスト

- [ ] ダークモード切り替えボタンが表示される
- [ ] クリックで背景色が変更される
- [ ] テキスト色が適切に変更される
- [ ] リロード後もダークモード設定が保持される

## 6. クエリ実行のテスト

### 正常実行
- [ ] キーワード入力
- [ ] クォータが十分な状態で検索実行
- [ ] 結果が表示される
- [ ] クォータが減少する
- [ ] QuotaDisplayが更新される

### クォータ不足
- [ ] クォータ不足の状態で検索ボタンをクリック
- [ ] アラートが表示される
- [ ] 必要クエリ数と残りクエリ数が表示される

## 7. エラーハンドリングのテスト

### Firebase未設定でログイン試行
- [ ] ログインボタンクリック（Firebase未設定）
- [ ] アラートが表示される
- [ ] 「FIREBASE_SETUP.mdを参照」メッセージ

### API未設定
- [ ] Google API KeyまたはSearch IDが未設定
- [ ] コンソールエラーが表示される
- [ ] 適切なエラーメッセージが表示される

## 8. レスポンシブデザイン

- [ ] デスクトップ表示が正常
- [ ] タブレット表示が正常
- [ ] モバイル表示が正常
- [ ] 検索フォームがモバイルで縦並びになる
- [ ] 認証ボタンがモバイルで適切に表示される

## テスト結果

### Firebase未設定時（現在）
実行日時: ___________
結果: [ ] Pass / [ ] Fail
メモ:


### Firebase設定後
実行日時: ___________
結果: [ ] Pass / [ ] Fail
メモ:
