# Pull Request 作成用テンプレート

## タイトル
```
feat: SEO担当者向け機能の大幅強化 - 検索履歴・API管理・CSV改善
```

## 本文

以下の内容をコピーしてGitHubのPR作成画面に貼り付けてください：

---

## 概要

Google検索ランキングチェッカーをSEO担当者が実務で使える充実したツールに大幅改善しました。

## 主な新機能

### 🔍 検索機能の強化

#### 1. 検索履歴管理
- LocalStorageによる検索履歴の永続化（最大50件）
- 検索日時、クエリ消費数の記録
- ワンクリックで過去の検索結果を再表示
- 履歴のクリア機能

#### 2. 検索結果の詳細情報表示
- 各結果の詳細をモーダルで表示
- OGタグ（og:title, og:description, og:image等）の表示
- メタデータ（description, keywords）の確認
- サムネイル画像の表示

#### 3. ドメイン分析
- 検索結果に含まれるドメインの分布を可視化
- 複数回出現するドメインをハイライト
- トップ20における競合分析

### 📊 統計・分析機能

#### 統計ダッシュボード
- 総検索回数の表示
- 総クエリ消費数の追跡
- 最新の検索キーワードの表示
- 視覚的に分かりやすいカード形式のUI

#### APIクォータ管理（NEW）
- **日次制限追跡**: Google API無料枠（100クエリ/日）の管理
- **自動リセット**: 毎日0:00に自動リセット
- **リアルタイム監視**: 使用状況を1分ごとに更新
- **視覚的表示**: プログレスバーで使用率を表示
- **警告システム**:
  - 🟢 通常（残り20クエリ以上）
  - 🟡 注意（残り10-19クエリ）
  - 🔴 警告（残り10クエリ未満）
- **クォータチェック**: 不足時は検索をブロック
- **リセット時刻表示**: 次のリセットまでの時間を表示

### 📄 エクスポート機能

#### CSVエクスポート（大幅改善）
- **Windows/Mac両対応**の文字化け対策
  - UTF-8 BOM追加でExcelで正しく表示
  - 改行コードをCRLF(\r\n)に統一
  - 強化されたエスケープ処理
- **JSONエクスポート**: メタデータ含む完全なデータ保存
- **ファイル名改善**: タイムスタンプ付きで一意性確保

### 🎨 UI/UX改善

#### デザイン
- **ダークモード対応**: 右上ボタンで切り替え
- サムネイル画像付き検索結果テーブル
- ホバーエフェクトによる視認性向上
- レスポンシブデザインの改善
- より洗練されたカラースキームとレイアウト

#### テーブル機能
- 検索順位の太字表示
- サムネイル画像の自動表示
- 「詳細を表示」ボタンで各結果の深堀り
- より見やすいURL表示

## 技術的な改善

### アーキテクチャ
- TypeScript型定義の追加（`src/types/search.ts`）
- ユーティリティ関数の分離（`src/utils/`）
- コンポーネントの適切な分割と再利用性向上

### 新規ファイル
```
src/
  types/
    search.ts              # 型定義
  utils/
    localStorage.ts        # 検索履歴管理
    apiQuotaManager.ts     # APIクォータ管理（NEW）
  components/
    SearchHistory.tsx      # 検索履歴コンポーネント
    SearchStats.tsx        # 統計ダッシュボード
    DomainAnalysis.tsx     # ドメイン分析
    ResultDetail.tsx       # 結果詳細モーダル
    QuotaDisplay.tsx       # クォータ表示パネル（NEW）
CSV_TEST_GUIDE.md          # CSVテスト手順書（NEW）
```

### パフォーマンス
- ビルドサイズ: 460KB (gzip: 143KB)
- Material-UIコンポーネントの効率的な使用
- LocalStorageによる高速なデータ永続化

## テスト

### CSVエクスポート
詳細なテストガイド（`CSV_TEST_GUIDE.md`）を作成：
- ✅ Windows Excel 2016以降
- ✅ Mac Numbers & Excel for Mac
- ✅ Google Sheets
- ✅ LibreOffice Calc
- ✅ 各種テキストエディタ

### APIクォータ管理
- ✅ 日次自動リセット
- ✅ クォータ不足時の検索ブロック
- ✅ リアルタイム監視
- ✅ 警告表示

## 破壊的変更

なし。既存の機能はすべて維持されています。

## マイグレーション

不要。LocalStorageのデータ構造は後方互換性があります。

## その他

- GitHub packageの依存関係を削除（`@boxpistols/githubactions-test`）
- yarn.lock から package-lock.json に移行

## チェックリスト

- [x] ビルドが成功する
- [x] 型エラーがない
- [x] 新機能のテストガイドを作成
- [x] 既存機能の動作確認
- [x] レスポンシブデザイン対応
- [x] ダークモード対応

## 関連Issue

（該当する場合は記載してください）

---

**レビューポイント:**
- APIクォータ管理の実装
- CSVエクスポートの文字化け対策
- 検索履歴管理の設計
- UI/UXの改善
